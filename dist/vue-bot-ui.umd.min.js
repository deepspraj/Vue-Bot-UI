(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-bot-ui"]=e(require("vue")):t["vue-bot-ui"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"24fb":function(t,e,n){"use strict";function o(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"===typeof btoa){var i=r(o),a=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=o(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"===typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},"499e":function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=i[0],s=i[1],c=i[2],l=i[3],b={id:t+":"+r,css:s,media:c,sourceMap:l};o[a]?o[a].parts.push(b):n.push(o[a]={id:a,parts:[b]})}return n}n.r(e),n.d(e,"default",(function(){return f}));var r="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,b=function(){},u=null,p="data-vue-ssr-id",d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,n,r){l=n,u=r||{};var a=o(t,e);return m(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r],c=i[s.id];c.refs--,n.push(c)}e?(a=o(t,e),m(a)):a=[];for(r=0;r<n.length;r++){c=n[r];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete i[c.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e],o=i[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(h(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(h(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function h(t){var e,n,o=document.querySelector("style["+p+'~="'+t.id+'"]');if(o){if(l)return b;o.parentNode.removeChild(o)}if(d){var r=c++;o=s||(s=g()),e=v.bind(null,o,r,!1),n=v.bind(null,o,r,!0)}else o=g(),e=k.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function v(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function k(t,e){var n=e.css,o=e.media,r=e.sourceMap;if(o&&t.setAttribute("media",o),u.ssrId&&t.setAttribute(p,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},"59d2":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'.qkb-bot-ui{position:fixed;z-index:1000;bottom:1.5rem;right:1.5rem;display:flex;flex-direction:column;font-size:1rem}.qkb-bot-ui *{box-sizing:border-box}.qkb-preload-image{position:absolute;top:0;left:0;width:0;height:0;overflow:hidden}.qkb-bot-ui--animate .qkb-fadeUp-enter-active,.qkb-bot-ui--animate .qkb-fadeUp-leave-active{opacity:1;transform:translate(0);transition:opacity .15s linear,transform .2s ease-out}.qkb-bot-ui--animate .qkb-fadeUp-enter,.qkb-bot-ui--animate .qkb-fadeUp-leave-to{transform:translateY(20px);opacity:0}.qkb-bot-ui--animate .qkb-scaleUp-enter-active,.qkb-bot-ui--animate .qkb-scaleUp-leave-active{opacity:1;transform:scale(1);transition:opacity .1s linear,transform .2s ease-out}.qkb-bot-ui--animate .qkb-scaleUp-enter,.qkb-bot-ui--animate .qkb-scaleUp-leave-to{transform:scale(0);opacity:0}@-webkit-keyframes qkbJump{0%{transform:translateY(2px)}to{transform:translateY(-1px)}}@keyframes qkbJump{0%{transform:translateY(2px)}to{transform:translateY(-1px)}}.qkb-msg-bubble__typing-indicator:after,.qkb-msg-bubble__typing-indicator:before,.qkb-msg-bubble__typing-indicator span{transform:translateY(2px);-webkit-animation:qkbJump .35s ease infinite alternate;animation:qkbJump .35s ease infinite alternate}.qkb-msg-bubble__typing-indicator span{-webkit-animation-delay:.175s;animation-delay:.175s}.qkb-msg-bubble__typing-indicator:after{-webkit-animation-delay:.35s;animation-delay:.35s}.qkb-bot-bubble{align-self:flex-end}.qkb-bubble-btn{display:block;padding:0;outline:0;border:0;box-shadow:none;border-radius:50%;color:#fff;fill:#fff;cursor:pointer;box-shadow:0 3px 5px 0 rgba(0,0,0,.15);transition:opacity .2s linear}.qkb-bubble-btn:hover{opacity:.85}.qkb-bubble-btn-icon{display:block;position:absolute;top:50%;left:50%;width:27px;height:auto;margin:-11px 0 0 -13px;line-height:1em}.qkb-bubble-btn-icon.qkb-bubble-btn-icon--close{width:15px;margin:-7px 0 0 -7px}.qkb-board{display:flex;flex-direction:column;position:absolute;right:0;overflow:hidden;width:376px;height:80vh;margin-bottom:10px;border-radius:8px;background-color:#fff;box-shadow:0 3px 30px 0 rgba(0,0,0,.15)}.qkb-board-header{display:flex;flex:none;align-items:center;justify-content:space-between;height:50px;padding:5px 15px}.qkb-board-header__title{font-weight:700;font-size:.875rem}.qkb-board-content{flex-grow:1;overflow:hidden scroll}.qkb-board-content__bubbles{min-height:100%;padding:1.5rem 1.25rem 1rem}.qkb-msg-bubble{display:flex;position:relative}.qkb-msg-avatar{flex-grow:1;flex:none;position:relative;overflow:hidden;border-radius:50%}.qkb-msg-avatar__img{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;background-size:cover;background-repeat:no-repeat}.qkb-msg-bubble__time{display:none;position:absolute;right:0;top:0;padding:2px 5px;margin-top:-5px;border-radius:5px;font-size:.625rem;color:#fff;background-color:#222;transform:translateY(-100%);opacity:0;transition:opacity .1s linear 1s}.qkb-msg-bubble--user .qkb-msg-bubble__time{display:block}.qkb-msg-bubble-component{font-size:.875rem}.qkb-msg-bubble-component:hover~.qkb-msg-bubble__time{opacity:.8}.qkb-msg-bubble{padding-bottom:1rem}.qkb-msg-bubble.qkb-msg-bubble--bot .qkb-msg-bubble-component{margin-right:2.5rem;margin-left:.5rem}.qkb-msg-bubble.qkb-msg-bubble--user{justify-content:flex-end}.qkb-msg-bubble.qkb-msg-bubble--user .qkb-msg-bubble-component{margin-left:5rem}.qkb-msg-bubble-component__text{position:relative;padding:.75rem 1rem;border-radius:6px}.qkb-msg-bubble-component__options-wrapper{display:flex;flex-wrap:wrap}.qkb-mb-button-options__item{flex:0 0 auto}.qkb-mb-button-options__btn{display:block;overflow:hidden;position:relative;margin:.5rem .375rem 0 0;padding:.25rem 1rem;cursor:pointer;outline:0;border:1px solid transparent;border-radius:13px;color:inherit;font-size:.875rem;font-family:inherit;text-decoration:none;background-color:transparent;transition:background-color .15s linear,color .1s linear}.qkb-mb-button-options__btn span{position:relative;z-index:10}.qkb-msg-bubble__typing-indicator{position:relative;min-width:29px;opacity:.3}.qkb-msg-bubble__typing-indicator span{display:block;width:7px;height:7px;margin:0 auto;border-radius:50%}.qkb-msg-bubble__typing-indicator:after,.qkb-msg-bubble__typing-indicator:before{content:"";display:block;position:absolute;top:0;width:7px;height:7px;border-radius:50%}.qkb-msg-bubble__typing-indicator:before{left:0}.qkb-msg-bubble__typing-indicator:after{right:0}.qkb-board-action{position:relative;display:flex;flex:none;height:46px;padding:.45rem 1.25rem .5rem;border-top:1px solid #e6e6e6}.qkb-board-action--disabled:before{content:"";display:block;position:absolute;z-index:10;top:0;left:0;width:100%;height:100%;opacity:.2;cursor:not-allowed}.qkb-board-action__wrapper{display:flex;width:100%;background-color:#fff}.qkb-board-action__msg-box{position:relative;flex-grow:1;padding:0 1rem 0 0}.qkb-board-action__input{height:100%;width:100%;padding:0;font-size:.875rem;border:0;background-color:transparent;box-shadow:none;outline:0}.qkb-board-action__input[disabled=disabled]{pointer-events:none}.qkb-board-action__disable-text{display:flex;align-items:center;position:absolute;top:0;left:0;height:100%;width:100%;background-color:#fff;font-size:.875rem}.qkb-board-action__extra{display:flex;flex:none;justify-content:center}.qkb-action-item{display:block;padding:5px;outline:0;border:0;line-height:1;box-shadow:none;background-color:transparent;cursor:pointer;opacity:.6;transition:opacity .1s linear}.qkb-action-item:hover{opacity:1}.qkb-action-icon{width:16px;height:16px;line-height:1;fill:#666;color:#666;vertical-align:middle}.qkb-board-aciton--typing .qkb-action-item--audio,.qkb-board-aciton--typing .qkb-action-item--microphone,.qkb-board-aciton--typing .qkb-action-item--send{opacity:1}',""]),t.exports=e},"8bbf":function(e,n){e.exports=t},b4c3:function(t,e,n){var o=n("59d2");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var r=n("499e").default;r("7d102d35",o,!0,{sourceMap:!1,shadowMode:!1})},de67:function(t,e,n){"use strict";var o=n("b4c3"),r=n.n(o);r.a},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(o){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var o;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=o[1]));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-bot-ui",class:t.uiClasses},[n("transition",{attrs:{name:"qkb-fadeUp"}},[t.botActive?n("div",{staticClass:"qkb-board"},[n("BoardHeader",{attrs:{"bot-title":t.optionsMain.botTitle},on:{"close-bot":t.botToggle}}),n("BoardContent",{attrs:{"bot-typing":t.botTyping,"main-data":t.messages}}),n("BoardAction",{attrs:{"input-disable":t.inputDisable,"input-placeholder":t.optionsMain.inputPlaceholder,"input-disable-placeholder":t.optionsMain.inputDisablePlaceholder},on:{"msg-send":t.sendMessage}})],1):t._e()]),n("div",{staticClass:"qkb-bot-bubble"},[n("button",{staticClass:"qkb-bubble-btn",on:{click:t.botToggle}},[t._t("bubbleButton",[n("transition",{attrs:{name:"qkb-scaleUp"}},[t.botActive?n("CloseIcon",{key:"2",staticClass:"qkb-bubble-btn-icon qkb-bubble-btn-icon--close"}):n("BubbleIcon",{key:"1",staticClass:"qkb-bubble-btn-icon"})],1)])],2)]),n("AppStyle",{attrs:{options:t.optionsMain}}),n("div",{staticClass:"qkb-preload-image"},[t.optionsMain.botAvatarImg?n("div",{staticClass:"qkb-msg-avatar__img"}):t._e()])],1)},i=[],a=n("8bbf"),s=n.n(a),c=new s.a,l=c,b={EVENT_OPEN:"botui-open",EVENT_CLOSE:"botui-close",EVENT_TOGGLE:"botui-toggle"},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-board-header"},[t._t("header",[n("div",{staticClass:"qkb-board-header__title"},[t._v(t._s(t.botTitle))])])],2)},p=[],d={props:{botTitle:{type:String,default:"Chatbot"}}},f=d;function m(t,e,n,o,r,i,a,s){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var b=l.render;l.render=function(t,e){return c.call(e),b(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}var g=m(f,u,p,!1,null,null,null),h=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"boardContent",staticClass:"qkb-board-content"},[n("div",{ref:"boardBubbles",staticClass:"qkb-board-content__bubbles"},[t._l(t.mainData,(function(e,o){return n("message-bubble",{key:o,class:t.audiocaller,attrs:{message:e}})})),t.botTyping?n("div",{staticClass:"qkb-board-content__bot-typing"},[t._t("botTyping",[n("message-typing")])],2):t._e()],2)])},v=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble",class:t.bubbleClass},["bot"===t.message.agent?n("div",{staticClass:"qkb-msg-avatar"},[n("div",{staticClass:"qkb-msg-avatar__img"})]):t._e(),t.componentType?n(t.componentType,{tag:"component",attrs:{"main-data":t.message}}):t._e(),t.message.createdAt?n("div",{staticClass:"qkb-msg-bubble__time"},[t._v(t._s(t.message.createdAt))]):t._e()],1)},_=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--single-text"},[n("div",{staticClass:"qkb-msg-bubble-component__text"},[t._v(t._s(t.mainData.text))])])},x=[],q={props:{mainData:{type:Object}},data:function(){return{singleMessageCount:this.$root.$refs.Action.audioout+1}}},w=q,j=m(w,O,x,!1,null,null,null),C=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--button-options"},[n("div",{staticClass:"qkb-msg-bubble-component__text"},[t._v(t._s(t.mainData.text))]),n("div",{staticClass:"qkb-msg-bubble-component__options-wrapper"},t._l(t.mainData.options,(function(e,o){return n("div",{key:o,staticClass:"qkb-mb-button-options__item",class:{active:t.selectedItem===e.value}},["postback"===e.action?n("button",{staticClass:"qkb-mb-button-options__btn",on:{click:function(n){return t.selectOption(e)}}},[n("span",[t._v(t._s(e.text))])]):n("a",{staticClass:"qkb-mb-button-options__btn qkb-mb-button-options__url",attrs:{target:"_blank",href:e.value}},[n("span",[t._v(t._s(e.text))])])])})),0)])},S=[],T={props:{mainData:{type:Object}},data:function(){return{selectedItem:null}},methods:{selectOption:function(t){this.selectedItem=t,l.$emit("select-button-option",t)}}},E=T,B=m(E,P,S,!1,null,null,null),D=B.exports,M={components:{SingleText:C,ButtonOptions:D},props:{message:{type:Object}},computed:{bubbleClass:function(){return"bot"===this.message.agent?"qkb-msg-bubble--bot":"qkb-msg-bubble--user"},componentType:function(){var t="";switch(this.message.type){case"button":t="ButtonOptions";break;default:t="SingleText"}return t}}},$=M,A=m($,k,_,!1,null,null,null),z=A.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-msg-bubble qkb-msg-bubble--bot"},[n("div",{staticClass:"qkb-msg-avatar"},[n("div",{staticClass:"qkb-msg-avatar__img"})]),n("div",{staticClass:"qkb-msg-bubble-component qkb-msg-bubble-component--typing"},[n("div",{staticClass:"qkb-msg-bubble-component__text"},[n("div",{staticClass:"qkb-msg-bubble__typing-indicator"},[n("span")])])])])}],L={},N=m(L,I,U,!1,null,null,null),R=N.exports,V=new s.a({data:{messageCounter:0}}),H={components:{MessageBubble:z,MessageTyping:R,counter:V},props:{mainData:{type:Array,required:!0},botTyping:{type:Boolean,default:!1}},watch:{mainData:function(t){var e=this;this.$nextTick((function(){e.updateScroll()}))}},computed:{audiocaller:function(){return this.mainData.length>V.messageCounter&&(s.a.prototype.$audioOut&&"bot"===this.mainData[V.messageCounter].agent&&this.$root.$refs.Action.textToAudio(this.mainData[V.messageCounter].text),V.messageCounter++),""}},methods:{updateScroll:function(){var t=this.$refs.boardContent,e=this.$refs.boardBubbles.offsetHeight;t.scrollTop=e}}},Y=H,G=m(Y,y,v,!1,null,null,null),J=G.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-board-action",class:t.actionClass},[n("div",{staticClass:"qkb-board-action__wrapper"},[t._t("actions"),n("button",{staticClass:"qkb-action-item qkb-action-item--audio",attrs:{id:"textToAudioId"},on:{click:t.audioSwitch}},[t._t("audioButton",[n("IconAudio",{staticClass:"qkb-action-icon qkb-action-icon--audio"})])],2),n("div",{staticClass:"qkb-board-action__msg-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.messageText,expression:"messageText"}],ref:"qkbMessageInput",staticClass:"qkb-board-action__input",attrs:{id:"qkb-board-action__input",type:"text",disabled:t.inputDisable,placeholder:t.inputPlaceholder},domProps:{value:t.messageText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(e)},input:function(e){e.target.composing||(t.messageText=e.target.value)}}}),t.inputDisablePlaceholder&&t.inputDisable?n("div",{staticClass:"qkb-board-action__disable-text"},[n("span",[t._v(t._s(t.inputDisablePlaceholder))])]):t._e()]),n("div",{staticClass:"qkb-board-action__extra"},[t._t("actions"),n("button",{staticClass:"qkb-action-item qkb-action-item--microphone",on:{click:t.audioToText}},[t._t("microphoneButton",[n("IconMicrophone",{staticClass:"qkb-action-icon qkb-action-icon--microphone"})])],2),n("button",{staticClass:"qkb-action-item qkb-action-item--send",on:{click:t.sendMessage}},[t._t("sendButton",[n("IconSend",{staticClass:"qkb-action-icon qkb-action-icon--send"})])],2)],2)],2)])},F=[];function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){Q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z(t,e){if(null==t)return{};var n,o,r=tt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tt(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}var et={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),r=e.children,i=void 0===r?[]:r,a=o["class"],s=o.staticClass,c=o.style,l=o.staticStyle,b=o.attrs,u=void 0===b?{}:b,p=Z(o,["class","staticClass","style","staticStyle","attrs"]);return n("svg",K({class:[a,s],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488.721 488.721"},u)},p),i.concat([n("path",{attrs:{d:"M483.589 222.024a51.197 51.197 0 00-23.762-23.762L73.522 11.331C48.074-.998 17.451 9.638 5.122 35.086A51.2 51.2 0 003.669 76.44l67.174 167.902L3.669 412.261c-10.463 26.341 2.409 56.177 28.75 66.639a51.314 51.314 0 0018.712 3.624c7.754 0 15.408-1.75 22.391-5.12l386.304-186.982c25.45-12.326 36.089-42.949 23.763-68.398zM58.657 446.633c-8.484 4.107-18.691.559-22.798-7.925a17.065 17.065 0 01-.481-13.784l65.399-163.516h340.668L58.657 446.633zm42.121-219.358L35.379 63.759a16.64 16.64 0 014.215-18.773 16.537 16.537 0 0119.063-2.884l382.788 185.173H100.778z"}})]))}};function nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(n),!0).forEach((function(e){rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t,e){if(null==t)return{};var n,o,r=at(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function at(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}var st={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),r=e.children,i=void 0===r?[]:r,a=o["class"],s=o.staticClass,c=o.style,l=o.staticStyle,b=o.attrs,u=void 0===b?{}:b,p=it(o,["class","staticClass","style","staticStyle","attrs"]);return n("svg",ot({class:[a,s],style:[c,l],attrs:Object.assign({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"682.667",height:"682.667",viewBox:"0 0 512 512"},u)},p),i.concat([n("path",{attrs:{d:"M237.1 1c-31.6 6.6-59 29.8-71 60.1-6.8 17.3-6.6 13.6-6.6 124.4 0 111.9-.2 107.8 7.2 125.5 12.5 29.6 38.6 51.5 69.8 58.6 10.8 2.5 30.1 2.5 41 0 38.3-8.6 68.4-39.7 75.7-78.2 1-5.4 1.3-28.7 1.3-106.4 0-111.7.3-107.1-7.4-125.5-11.2-26.8-32-46.1-60.1-55.6C277.8.7 276.8.6 259.5.4c-9.9-.2-20 .1-22.4.6zm39.4 31.4c23.6 8.2 39.7 25.3 45.6 48.4 1.8 7.2 1.9 11.9 1.9 104.1 0 107.7.2 104.3-6.9 118.6-24.4 49.3-94 50.1-119.6 1.3-2-3.7-4.4-10.2-5.5-14.4-1.9-7.4-2-11.5-2-104.9 0-92.8.1-97.5 1.9-104.7 6.2-24.2 25.2-43.3 48.7-49.3 8.1-2 29-1.5 35.9.9z"}}),n("path",{attrs:{d:"M99 260.9c-7.6 4-9.1 10.4-6.9 29.9 5.5 50.3 32.6 94.9 74.4 122.2 20 13 47.5 23.2 69.3 25.5l6.2.7v40.7l-30.2.3c-28.4.3-30.5.4-33.8 2.4-10.4 6.1-10.7 20.2-.4 26.1l3.9 2.3h151l3.9-2.3c10.3-5.9 10-20-.4-26.1-3.3-2-5.4-2.1-33.7-2.4l-30.3-.3v-40.7l6.3-.7c23.5-2.5 53.6-14.3 74.7-29.3 12.2-8.6 30.6-27 39.2-39.2 7.7-10.8 18.4-31.7 22.2-43.5 4.1-12.7 6.5-24.9 7.8-40.1 1.1-13.8 1.1-14.1-1.1-18.7-5.4-11.1-20.2-11.6-26.4-.9-1.4 2.5-2.2 6.4-2.8 15-1.6 24.2-8.4 45.4-20.1 63.8-24.1 37.5-61.9 60.2-105.1 63.3-61.9 4.3-117.8-33-138-91.9-3.6-10.6-5.7-21.7-6.7-35.3-.9-13.1-2.3-16.7-8-20.4-4.1-2.8-10.2-3-15-.4z"}})]))}};function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(t,e){if(null==t)return{};var n,o,r=pt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pt(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}var dt={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),r=e.children,i=void 0===r?[]:r,a=o["class"],s=o.staticClass,c=o.style,l=o.staticStyle,b=o.attrs,u=void 0===b?{}:b,p=ut(o,["class","staticClass","style","staticStyle","attrs"]);return n("svg",lt({class:[a,s],style:[c,l],attrs:Object.assign({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"682.667",height:"682.667",viewBox:"0 0 512 512"},u)},p),i.concat([n("path",{attrs:{d:"M277.5 64.7c-3.1 1.2-29.7 19.1-71.7 48.6L139 160h-32.3c-25.4 0-33.5.3-38 1.5-17.3 4.5-30.7 17.8-35.2 35-2.2 8.8-2.2 110.2 0 119 4.5 17.2 17.9 30.5 35.2 35 4.5 1.2 12.6 1.5 38 1.5H139l66.8 46.7c48.3 33.9 68.2 47.3 72.2 48.6 15 5.2 31.9-2.3 38.8-17.1l2.7-5.7v-337l-2.7-5.7c-3.1-6.7-9.1-12.8-15.6-15.8-6.5-3.1-17-3.7-23.7-1.3zm10.3 271.7l-.3 80.5-63.7-44.6-63.8-44.6V184.3l63.8-44.6 63.7-44.6.3 80.4c.1 44.3.1 116.7 0 160.9zM128 256v64.1l-26.9-.3c-25.4-.3-27.1-.4-29.7-2.4-1.5-1.1-3.7-3.3-4.8-4.8-2-2.7-2.1-4-2.4-53.9-.2-28.2 0-52.6.3-54.4.7-4 4.9-9.1 9-10.9 2.2-1 9.6-1.3 28.8-1.4H128v64zM393 98.2c-6.1 3.1-9.5 9.7-8.5 16.4.6 4.1 1.8 5.7 11.5 15.9 20.9 21.8 33.2 41.6 42.3 68.1 12.5 36 12.7 76.6.6 112.9-9.2 27.5-21.5 47.7-42.6 69.6-7.2 7.5-10.5 11.7-11.3 14.5-2.4 8.2 2.8 17.2 11.3 19.5 6.7 1.8 10.9-.1 20.1-9 35.3-34.1 57.5-80.2 62.6-130 6.3-62.7-17.5-127-63.2-170.7-10.6-10.1-14.5-11.4-22.8-7.2z"}}),n("path",{attrs:{d:"M361.4 163.4c-3.8 1.7-7.1 5.7-8.6 10.7-1.7 5.7.2 10.7 6.8 18.1 32.3 36.2 32.3 91.4 0 127.6-8.5 9.5-9.6 16.9-3.4 24.7 4 5.1 12.9 7.1 18.7 4.1 6.8-3.6 20.2-20.8 27.6-35.6 9.3-18.5 12.9-34.5 12.9-57 0-12.1-.4-18.7-1.8-24.8-5-23.3-15.7-44.6-30.1-60.1-8.3-8.9-14.4-11-22.1-7.7z"}})]))}},ft={components:{IconMicrophone:st,IconSend:et,IconAudio:dt},props:{inputPlaceholder:{type:String},inputDisablePlaceholder:{type:String},inputDisable:{type:Boolean,default:!1}},data:function(){return{messageText:null,runtimeTranscription_:"",transcription_:[],lang_:"hi-IN",pitch:1,rate:1,synth:window.speechSynthesis,validation:!1,audioout:!1}},computed:{actionClass:function(){var t=[];return this.inputDisable&&t.push("qkb-board-action--disabled"),this.messageText&&t.push("qkb-board-aciton--typing"),t}},mounted:function(){this.$refs.qkbMessageInput.focus()},created:function(){this.$root.$refs.Action=this},methods:{sendMessage:function(){this.messageText&&(this.$emit("msg-send",{text:this.messageText}),this.messageText=null)},audioToText:function(){var t=this;window.SpeechRecognition=window.webkitSpeechRecognition;var e=new window.SpeechRecognition;e.lang=this.lang_,e.interimResults=!0,e.addEventListener("result",(function(e){var n=Array.from(e.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("");t.messageText=n})),e.addEventListener("end",(function(){t.transcription_.push(t.runtimeTranscription_),e.stop(),setTimeout((function(){t.messageText&&(t.$emit("msg-send",{text:t.messageText}),t.messageText=null)}),2e3)})),e.start()},audioSwitch:function(){s.a.prototype.$audioOut?s.a.prototype.$audioOut=!1:s.a.prototype.$audioOut=!0},textToAudio:function(t){if(t){this.validation=!1;var e=new SpeechSynthesisUtterance(t);e.lang=this.lang_,e.onend=function(t){},e.onerror=function(t){},e.pitch=this.pitch,e.rate=this.rate,this.synth.speak(e)}else this.validation=!0}}},mt=ft,gt=m(mt,X,F,!1,null,null,null),ht=gt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qkb-bot-style",staticStyle:{display:"none"},domProps:{innerHTML:t._s(t.style)}})},vt=[],kt={props:["options"],computed:{style:function(){if(!this.options)return"";var t=this.options,e=t.colorScheme,n=t.textColor,o=t.boardContentBg,r=t.bubbleBtnSize,i=t.botAvatarImg,a=t.botAvatarSize,s=t.inputDisableBg,c=t.msgBubbleBgBot,l=t.msgBubbleColorBot,b=t.msgBubbleBgUser,u=t.msgBubbleColorUser,p='\n<style type="text/css" id="qkb-bot-style">\n.qkb-bubble-btn {\n  background-color: '.concat(e,";\n  width: ").concat(r,"px;\n  height: ").concat(r,"px;\n}\n.qkb-bubble-btn-icon {\n  fill: ").concat(n,";\n  color: ").concat(n,";\n}\n.qkb-board {\n  bottom: ").concat(r,"px;\n}\n.qkb-board-header {\n  background-color: ").concat(e,";\n}\n.qkb-board-header__title {\n  color: ").concat(n,";\n}\n.qkb-board-content {\n  background-color: ").concat(o,";\n}\n").concat(i?".qkb-msg-avatar {\n      width: ".concat(a,"px;\n      height: ").concat(a,"px;\n    }\n    .qkb-msg-avatar__img {\n      background-image: url(").concat(i,");\n    }"):"","\n.qkb-msg-bubble--bot .qkb-msg-bubble-component__text {\n  color: ").concat(l,";\n  background-color: ").concat(c,";\n}\n.qkb-msg-bubble__typing-indicator span,\n.qkb-msg-bubble__typing-indicator::before,\n.qkb-msg-bubble__typing-indicator::after {\n  background-color: ").concat(l,";\n}\n.qkb-mb-button-options__btn::before {\n  background-color: ").concat(b,";\n}\n.qkb-msg-bubble--user .qkb-msg-bubble-component__text {\n  color: ").concat(u,";\n  background-color: ").concat(b,";\n}\n.qkb-mb-button-options__btn {\n  color: ").concat(b,";\n  border-color: ").concat(b,";\n}\n.qkb-mb-button-options__btn:hover {\n  color: ").concat(u,";\n  background-color: ").concat(b,";\n}\n.qkb-board-action--disabled::before {\n  background-color: ").concat(s,";\n}\n</style>\n      ");return p}}},_t=kt,Ot=m(_t,yt,vt,!1,null,null,null),xt=Ot.exports;function qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ct(t,e){if(null==t)return{};var n,o,r=Pt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pt(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}var St={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),r=e.children,i=void 0===r?[]:r,a=o["class"],s=o.staticClass,c=o.style,l=o.staticStyle,b=o.attrs,u=void 0===b?{}:b,p=Ct(o,["class","staticClass","style","staticStyle","attrs"]);return n("svg",wt({class:[a,s],style:[c,l],attrs:Object.assign({height:"511pt",viewBox:"1 -31 512 511",width:"511pt",xmlns:"http://www.w3.org/2000/svg"},u)},p),i.concat([n("path",{attrs:{d:"M128 448.5c-8.836 0-16-7.164-16-16v-80H48c-26.512 0-48-21.492-48-48v-256C0 21.988 21.488.5 48 .5h416c26.512 0 48 21.488 48 48v256c0 26.508-21.488 48-48 48H230.625l-91.313 91.313c-3 3-7.07 4.687-11.312 4.687zm-80-416c-8.836 0-16 7.164-16 16v256c0 8.836 7.164 16 16 16h80c8.836 0 16 7.164 16 16v57.375l68.688-68.688c3-3 7.07-4.687 11.312-4.687h240c8.836 0 16-7.164 16-16v-256c0-8.836-7.164-16-16-16zm0 0"}}),n("path",{attrs:{d:"M160 144.5c-17.672 0-32-14.328-32-32s14.328-32 32-32 32 14.328 32 32-14.328 32-32 32zm0 0M352 144.5c-17.672 0-32-14.328-32-32s14.328-32 32-32 32 14.328 32 32-14.328 32-32 32zm0 0M256 288.5c-52.996-.05-95.945-43.004-96-96 0-8.836 7.164-16 16-16s16 7.164 16 16c0 35.348 28.652 64 64 64s64-28.652 64-64c0-8.836 7.164-16 16-16s16 7.164 16 16c-.055 52.996-43.004 95.945-96 96zm0 0"}})]))}};function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach((function(e){Bt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t,e){if(null==t)return{};var n,o,r=Mt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mt(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}var $t={functional:!0,render:function(t,e){var n=e._c,o=(e._v,e.data),r=e.children,i=void 0===r?[]:r,a=o["class"],s=o.staticClass,c=o.style,l=o.staticStyle,b=o.attrs,u=void 0===b?{}:b,p=Dt(o,["class","staticClass","style","staticStyle","attrs"]);return n("svg",Et({class:[a,s],style:[c,l],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.001 512.001"},u)},p),i.concat([n("path",{attrs:{d:"M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0014.143 5.857 19.94 19.94 0 0014.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"}})]))}};function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){It(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}s.a.prototype.$audioOut=!1;var Ut={name:"VueBotUI",components:{BoardHeader:h,BoardContent:J,BoardAction:ht,BubbleIcon:St,CloseIcon:$t,AppStyle:xt},props:{options:{type:Object,default:function(){return{}}},messages:{type:Array},botTyping:{type:Boolean,default:!1},inputDisable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},openDelay:{type:Number}},data:function(){return{botActive:!1,defaultOptions:{botTitle:"Chatbot",colorScheme:"#1b53d0",textColor:"#fff",bubbleBtnSize:56,animation:!0,boardContentBg:"#fff",botAvatarSize:32,botAvatarImg:"http://placehold.it/200x200",msgBubbleBgBot:"#f0f0f0",msgBubbleColorBot:"#000",msgBubbleBgUser:"#4356e0",msgBubbleColorUser:"#fff",inputPlaceholder:"Message",inputDisableBg:"#fff",inputDisablePlaceholder:null}}},computed:{optionsMain:function(){return zt({},this.defaultOptions,{},this.options)},uiClasses:function(){var t=[];return this.optionsMain.animation&&t.push("qkb-bot-ui--animate"),t}},created:function(){this.isOpen&&(this.openDelay?setTimeout(this.botOpen,this.openDelay):this.botToggle())},mounted:function(){document.addEventListener(b.EVENT_OPEN,(function(){this.botOpen()})),document.addEventListener(b.EVENT_CLOSE,(function(){this.botClose()})),document.addEventListener(b.EVENT_TOGGLE,(function(){this.botToggle()}))},beforeDestroy:function(){l.$off("select-button-option")},methods:{botOpen:function(){this.botActive||this.botToggle()},botClose:function(){this.botActive&&this.botToggle()},botToggle:function(){this.botActive=!this.botActive,this.botActive?(l.$on("select-button-option",this.selectOption),this.$emit("init")):(l.$off("select-button-option"),this.$emit("destroy"))},sendMessage:function(t){this.$emit("msg-send",t)},selectOption:function(t){this.$emit("msg-send",t)}}},Lt=Ut,Nt=(n("de67"),m(Lt,r,i,!1,null,null,null)),Rt=Nt.exports,Vt={install:function(t,e){t.component("VueBotUI",Rt)}},Ht=Vt;n.d(e,"VueBotUI",(function(){return Rt}));e["default"]=Ht}})}));